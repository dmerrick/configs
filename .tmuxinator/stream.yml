# ~/.tmuxinator/workspace.yml

name: stream
root: ~/

# Optional tmux socket
# socket_name: workspace

# Runs before everything. Use it to start daemons etc.
# pre: sudo /etc/rc.d/mysqld start

# Runs in each window and pane before window/pane specific commands.
# pre_window: export IGNOREEOF=5

# Pass command line options to tmux. Useful for specifying a different tmux.conf.
# tmux_options: -f ~/.tmux.mac.conf

windows:
  - primary:
      pre: export IGNOREEOF=3
      panes:
        - clear; neofetch
  - secondary:
      pre: export IGNOREEOF=3
      panes:
        - clear; neofetch
  - rotators:
      # ignore the first few CTRL-Ds (to prevent accidental closing)
      pre: export IGNOREEOF=3
      # two panes at the top, one big one at the bottom
      layout: fa9d,191x90,0,0[191x15,0,0{95x15,0,0,0,95x15,96,0,2},191x74,0,16,3]
      panes:
        - cd ~/other_projects/danalol-stream && ./bin/generate-left-msg.rb
        - cd ~/other_projects/danalol-stream && ./bin/generate-right-msg.rb
        - cd ~/other_projects/danalol-stream && ./bin/generate-leaderboard.sh
  - tripbot:
      # ignore the first few CTRL-Ds (to prevent accidental closing)
      pre: export IGNOREEOF=3
      # two panes at the top, one big one at the bottom
      layout: fa9d,191x90,0,0[191x15,0,0{95x15,0,0,0,95x15,96,0,2},191x74,0,16,3]
      panes:
        - cd ~/other_projects/danalol-stream && go run cmd/tripbot/tripbot.go >> log/bot.log 2>&1
        - cd ~/other_projects/danalol-stream && ./bin/start-obs.sh
        - pane_with_multiple_commands:
          - clear
          - cd ~/other_projects/danalol-stream && tail -F log/bot.log
  # other examples:
  #- server: bundle exec rails s
  #- logs: tail -f log/development.log
